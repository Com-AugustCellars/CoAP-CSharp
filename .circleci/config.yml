version: 2
jobs:
  build:
    docker:
      - image: microsoft/dotnet:2-sdk

    working_directory: ~/repo

    steps:
       - checkout

       - run:
           name: Get Examples
           command: git clone --depth 1 https://github.com/cose-wg/Examples Regressions

       - run:
           name: Unit Tests
           command: |
              ls
              dotnet build --framework=netcoreapp2.0 CoAP.Std10.sln
              ls CoAP.Test/bin/Debug/netcoreapp2.0
              ls CoAP.Test/bin/Debug/netcoreapp2.0/CoRAL
              dotnet test --framework=netcoreapp2.0 CoAP.Std10.sln
              ls CoAP.Test/bin/Debug/netcoreapp2.0
              ls CoAP.Test/bin/Debug/netcoreapp2.0/CoRAL
